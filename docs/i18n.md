# Internationalization (i18n) — English and Spanish

The HA4E site is available in **English** (default) and **Spanish**. English pages live at the root (e.g. `/`, `/about.html`). Spanish pages live under `/es/` (e.g. `/es/`, `/es/about.html`). A language switcher in the header lets visitors switch between languages on the same page.

---

## For non-technical maintainers

### Where to edit what

| What you're changing | English | Spanish |
|----------------------|---------|---------|
| **Menus, buttons, labels, footer text, meta description** | `src/i18n/en.yaml` | `src/i18n/es.yaml` |
| **Long page content** (About, Programs, Privacy, etc.) | `src/content/en/*.md` | `src/content/es/*.md` |
| **Volunteer spotlight** (name, role, blurb) | `src/content/en/spotlights.edn` | `src/content/es/spotlights.edn` |

### Rules

1. **Change in one language? Change in the other.** If you update a label or paragraph in English, update the same label or paragraph in Spanish so both stay in sync.
2. **Don’t add or remove keys.** Only change the **value** on the right side. Don’t delete a line or add a new key unless a developer has set it up.
3. **Publishing:** Save your edits and push (or hand off to someone who pushes). The build runs on Netlify and publishes the site.

### YAML tips (for `en.yaml` and `es.yaml`)

- One key per line, in the form `key: value`.
- If the value contains a **colon**, put the whole value in quotes, e.g. `meta_description: "Empowering Hispanic youth: education and trades"`.
- Lines starting with `#` are comments and are ignored.

### EDN tips (for spotlights)

- Keep the same structure (e.g. `:current`, `:previous`, `:name`, `:role`, `:blurb`, `:month`, `:year`, `:image`, `:url`).
- Strings go in double quotes. Don’t remove colons before key names (e.g. `:name`).

---

## For developers

### URL convention

- **English (default):** `/`, `/about.html`, `/contact.html`, etc.
- **Spanish:** `/es/`, `/es/about.html`, `/es/contact.html`, etc.

### Adding a new locale

1. Add the locale code to `locales` in `bb/build.clj` (e.g. `["en" "es" "fr"]`).
2. Create `src/i18n/<locale>.yaml` with the same keys as `en.yaml` (and translate values).
3. Create `src/content/<locale>/` and add one `.md` file per page (same names as in `en/`) and `spotlights.edn` if the site uses spotlights.
4. Rebuild; the build will output to `public/<locale>/` and include the new locale in the sitemap and language switcher.

### Adding a new UI string (new key)

1. Add the key and value to `src/i18n/en.yaml` and `src/i18n/es.yaml`.
2. In the template (e.g. `src/templates/base.html` or a page template), replace the hardcoded text with `{{key_name}}` (use underscores to match the YAML key).
3. Rebuild.

### Adding a new page

1. Add an entry to the `pages` list in `bb/build.clj`: `[page-name template-name title]`.
2. Create `src/templates/<template-name>.html` and `src/content/en/<template-name>.md` (and `src/content/es/<template-name>.md`).
3. Rebuild.

### Build behavior

- The build script (`bb/build.clj`) loops over `locales` and, for each locale, reads i18n from `src/i18n/<locale>.yaml`, content from `src/content/<locale>/*.md`, and spotlights from `src/content/<locale>/spotlights.edn` (fallback for English: `src/content/spotlights.edn`).
- English output goes to `public/`; other locales go to `public/<locale>/`.
- The sitemap includes all indexable pages for all locales. Hreflang links are emitted in the `<head>` so search engines can associate language variants.
